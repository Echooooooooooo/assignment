switch(self_assessment,off).

search_bounds(100,10).	% resolution depth, time in seconds

automarkrc(
         'assignment1_library.pl'    % given Prolog code
        ,'ailp_assignment1.pl'     % submission
        ,'assignment1_answers.pl'  % model answers
        ,'test1.pl'     % ground test queries
        ,[part(q1,1,[list(true->q1(Q1)->true)])
         ,part(q2a,1,[list(true->q2a(Q2a)->true)])
         ,part(q2b,1,[list(true->q2b(Q2b)->true)])
         %,part(q2b,1,[check(true->q2b(-Q2b)->[X2b]/(Q2b=X2b))])
         ,part(q3,1,[check(true->q3(-Q3)->[X3]/(Q3=X3))])
         ,part(q4a,2,[check((candidate_number(CN),cn2sp(CN,SP))->q4a(-Q4a)->[_]/(answerQ4a(SP,X4a),X4a=Q4a))])
         ,part(q4b,2,[check((candidate_number(CN),cn2sp(CN,SP))->q4b(-Q4b)->[_]/(answerQ4b(SP,X4b),X4b=Q4b))])
         ,part(q4c,2,[check((candidate_number(CN),cn2sp(CN,SP))->q4c(-Q4c)->[_]/(answerQ4c(SP,X4c),X4c=Q4c))])
         ,part(q4d,2,[check((candidate_number(CN),cn2sp(CN,SP))->q4d(-Q4d)->[_]/(answerQ4d(SP,X4d),X4d=Q4d))])
         ,part(q5a,3,[])
         ,part(q5b,3,[])
         ,part(q6,5,[list(true->q6_spiral(L)->true)])
         ,part(extra,2,[])
         ]
        ).

%cn2sp(12345,p(2,3)). % replace with program to generate starting position

% similar to start_position_personal in assignment1_library.pl
cn2sp(Z, p(X,Y)):-
	ailp_grid_size(N),
	X is mod(Z,N) + 1,
	number_codes(Z,[A|[Y1|B]]),
	Y2 is Y1 - 48,
	Y is mod(Y2,N) + 1.
	

% Q4a
% this will be a look-up table with 16 possibilities
% answerQ4a(p(2,3),[p(1,4),p(1,3),p(1,2),p(2,2),p(2,1),p(3,1),p(4,1),p(4,2),p(3,2),p(3,3),p(4,3),p(4,4),p(3,4),p(2,4),p(2,3)]).

answerQ4a(SP, Path) :-
	(
	SP=p(1,1) -> Path = [p(1,1),p(1,2),p(1,3),p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,2),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1)];
	SP=p(2,1) -> Path = [p(2,1),p(2,2),p(2,3),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(3,2),p(4,2),p(4,1),p(3,1)];
	SP=p(3,1) -> Path = [p(3, 1), p(3, 2), p(3, 3), p(3, 4), p(4, 4), p(4, 3), p(4, 2), p(4, 1)];
	SP=p(4,1) -> Path = [p(4,1),p(4,2),p(4,3),p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(2,3),p(3,3),p(3,2),p(2,2),p(1,2),p(1,1),p(2,1),p(3,1)];
	SP=p(1,2) -> Path = [p(1,2),p(1,3),p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,2),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1)];
	SP=p(2,2) -> Path = [p(2,2),p(2,3),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1),p(1,2),p(1,3),p(1,4)];
	SP=p(3,2) -> Path = [p(3,2),p(3,3),p(3,4),p(4,4),p(4,3),p(4,2),p(4,1),p(3,1),p(2,1),p(2,2),p(2,3),p(2,4),p(1,4),p(1,3),p(1,2),p(1,1)];
	SP=p(4,2) -> Path = [p(4,2),p(4,3),p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(2,3),p(3,3),p(3,2),p(2,2),p(1,2),p(1,1),p(2,1),p(3,1),p(4,1)];
	SP=p(1,3) -> Path = [p(1,3),p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,2),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1),p(1,2)];
	SP=p(2,3) -> Path = [p(2,3),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(2,2),p(1,2),p(1,3),p(1,4)];
	SP=p(3,3) -> Path = [p(3,3),p(3,4),p(4,4),p(4,3),p(4,2),p(3,2),p(2,2),p(2,3),p(2,4),p(1,4),p(1,3),p(1,2),p(1,1),p(2,1),p(3,1),p(4,1)];
	SP=p(4,3) -> Path = [p(4,3),p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(2,3),p(3,3),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(2,2),p(1,2),p(1,1)];
	SP=p(1,4) -> Path = [p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(1,3),p(1,2),p(2,2),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1)];
	SP=p(2,4) -> Path = [p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(1,3),p(1,4)];
	SP=p(3,4) -> Path = [p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,4),p(1,4),p(1,3),p(1,2),p(2,2),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1)];
	SP=p(4,4) -> Path = [p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(2,3),p(3,3),p(4,3),p(4,2),p(3,2),p(2,2),p(1,2),p(1,1),p(2,1),p(3,1),p(4,1)]
	)
	%, write(Path)
	.





% Q4b
% this will be a look-up table with 16 possibilities
%answerQ4b(p(2,3),[p(1,1),p(1,2),p(2,2),p(2,1),p(3,1),p(4,1),p(4,2),p(3,2),p(3,3),p(4,3),p(4,4),p(3,4),p(2,4),p(2,3)]).

answerQ4b(SP, Path) :-
	(
        SP=p(1,1) -> Path = [p(1,1),p(1,2),p(1,3),p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,2),p(3,2),p(3,1),p(4,1),p(4,2)];
        SP=p(2,1) -> Path = [p(2,1),p(2,2),p(2,3),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(3,2),p(3,1),p(4,1),p(4,2)];
        SP=p(3,1) -> Path = [p(3,1) ,p(3,2) ,p(3,3) ,p(3,4) ,p(2,4) ,p(1,4) ,p(1,3) ,p(2,3) ,p(2,2) ,p(1,2), p(1,1)];
        SP=p(4,1) -> Path = [p(4,1),p(4,2),p(4,3),p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(2,3),p(3,3),p(3,2),p(2,2),p(2,1),p(3,1)];
        SP=p(1,2) -> Path = [p(1,2),p(1,3),p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,2),p(3,2),p(3,1),p(4,1),p(4,2)];
        SP=p(2,2) -> Path = [p(2,2), p(2,3), p(2,4), p(3,4), p(4,4), p(4,3), p(3,3), p(3,2), p(3,1), p(4,1), p(4,2)];
        SP=p(3,2) -> Path = [p(3,2),p(3,3),p(3,4),p(4,4),p(4,3),p(4,2),p(4,1),p(3,1),p(2,1),p(2,2),p(2,3),p(1,3),p(1,4),p(2,4)];
        SP=p(4,2) -> Path = [p(4,2),p(4,3),p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(2,3),p(3,3),p(3,2),p(2,2),p(2,1),p(3,1),p(4,1)];
        SP=p(1,3) -> Path = [p(1,3),p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,2),p(3,2),p(3,1),p(4,1),p(4,2)];
        SP=p(2,3) -> Path = [p(2,3),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(2,2),p(1,2),p(1,1)];
        SP=p(3,3) -> Path = [p(3,3),p(3,4),p(4,4),p(4,3),p(4,2),p(3,2),p(2,2),p(2,3),p(1,3),p(1,4),p(2,4)];
        SP=p(4,3) -> Path = [p(4,3),p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(2,3),p(3,3),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1),p(1,2),p(2,2)];
        SP=p(1,4) -> Path = [p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(1,3),p(1,2),p(2,2),p(3,2),p(3,1),p(4,1),p(4,2)];
        SP=p(2,4) -> Path = [p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(1,3),p(1,2),p(2,2),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1)];
        SP=p(3,4) -> Path = [p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,4),p(1,4),p(1,3),p(1,2),p(2,2),p(3,2),p(3,1),p(4,1),p(4,2)];
        SP=p(4,4) -> Path = [p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(2,3),p(3,3),p(4,3),p(4,2),p(3,2),p(2,2),p(2,1),p(3,1),p(4,1)]
        )
       % , write(Path)
        .




% Q4c
% this will be a look-up table with 16 possibilities
% answerQ4c(p(2,3),[bla]).

answerQ4c(SP, Path) :-
        (
        SP=p(1,1) -> Path = [p(1,1),p(1,2),p(1,3),p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,2),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1)];
        SP=p(2,1) -> Path = [p(2,1),p(2,2),p(2,3),p(3,3),p(3,2),p(3,1),p(4,1),p(4,2),p(4,3),p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(1,2),p(1,1)];
        SP=p(3,1) -> Path = [p(3,1),p(3,2),p(3,3),p(2,3),p(2,2),p(2,1),p(1,1),p(1,2),p(1,3),p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(4,2),p(4,1)];
        SP=p(4,1) -> Path = [p(4,1),p(4,2),p(4,3),p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(2,3),p(3,3),p(3,2),p(2,2),p(1,2),p(1,1),p(2,1),p(3,1)];
        SP=p(1,2) -> Path = [p(1,2),p(1,3),p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,2),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1)];
        SP=p(2,2) -> Path = [p(2,2),p(2,3),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1),p(1,2),p(1,3),p(1,4)];
        SP=p(3,2) -> Path = [p(3,2),p(3,3),p(3,4),p(4,4),p(4,3),p(4,2),p(4,1),p(3,1),p(2,1),p(2,2),p(2,3),p(2,4),p(1,4),p(1,3),p(1,2),p(1,1)];
        SP=p(4,2) -> Path = [p(4,2),p(4,3),p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(2,3),p(3,3),p(3,2),p(2,2),p(1,2),p(1,1),p(2,1),p(3,1),p(4,1)];
        SP=p(1,3) -> Path = [p(1,3),p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,2),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1),p(1,2)];
        SP=p(2,3) -> Path = [p(2,3),p(2,4),p(1,4),p(1,3),p(1,2),p(2,2),p(3,2),p(3,3),p(3,4),p(4,4),p(4,3),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1)];
        SP=p(3,3) -> Path = [p(3,3),p(3,4),p(4,4),p(4,3),p(4,2),p(3,2),p(2,2),p(2,3),p(2,4),p(1,4),p(1,3),p(1,2),p(1,1),p(2,1),p(3,1),p(4,1)];
        SP=p(4,3) -> Path = [p(4,3),p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(2,3),p(3,3),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(2,2),p(1,2),p(1,1)];
        SP=p(1,4) -> Path = [p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(1,3),p(1,2),p(2,2),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1)];
        SP=p(2,4) -> Path = [p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,2),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1),p(1,2),p(1,3),p(1,4)];
        SP=p(3,4) -> Path = [p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,4),p(1,4),p(1,3),p(1,2),p(2,2),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1)];
        SP=p(4,4) -> Path = [p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(2,3),p(3,3),p(4,3),p(4,2),p(3,2),p(2,2),p(1,2),p(1,1),p(2,1),p(3,1),p(4,1)]
        ).

% Q4d
% this will be a look-up table with 16 possibilities
% answerQ4d(p(2,3),[bla]).

answerQ4d(SP, Path) :-
        (
        SP=p(1,1) -> Path = [p(1,1),p(1,2),p(1,3),p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,2),p(2,1),p(3,1),p(3,2),p(4,2),p(4,1)];
        SP=p(2,1) -> Path = [p(2,1),p(2,2),p(3,2),p(3,1),p(4,1),p(4,2),p(4,3),p(4,4),p(3,4),p(3,3),p(2,3),p(2,4),p(1,4),p(1,3),p(1,2),p(1,1)];
        SP=p(3,1) -> Path = [p(3,1),p(3,2),p(2,2),p(2,1),p(1,1),p(1,2),p(1,3),p(1,4),p(2,4),p(2,3),p(3,3),p(3,4),p(4,4),p(4,3),p(4,2),p(4,1)];
        SP=p(4,1) -> Path = [p(4,1),p(4,2),p(4,3),p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(2,3),p(3,3),p(3,2),p(3,1),p(2,1),p(2,2),p(1,2),p(1,1)];
        SP=p(1,2) -> Path = [p(1,2),p(1,3),p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(4,2),p(4,1),p(3,1),p(3,2),p(3,3),p(2,3),p(2,2),p(2,1),p(1,1)];
        SP=p(2,2) -> Path = [p(2,2),p(2,3),p(2,4),p(1,4),p(1,3),p(1,2),p(1,1),p(2,1),p(3,1),p(3,2),p(3,3),p(3,4),p(4,4),p(4,3),p(4,2),p(4,1)];
        SP=p(3,2) -> Path = [p(3,2),p(3,3),p(3,4),p(4,4),p(4,3),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1),p(1,2),p(1,3),p(1,4),p(2,4),p(2,3),p(2,2)];
        SP=p(4,2) -> Path = [p(4,2),p(4,3),p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(1,2),p(1,1),p(2,1),p(2,2),p(2,3),p(3,3),p(3,2),p(3,1),p(4,1)];
        SP=p(1,3) -> Path = [p(1,3),p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,2),p(1,2),p(1,1),p(2,1),p(3,1),p(3,2),p(4,2),p(4,1)];
        SP=p(2,3) -> Path = [p(2,3),p(2,4),p(1,4),p(1,3),p(1,2),p(1,1),p(2,1),p(2,2),p(3,2),p(3,3),p(3,4),p(4,4),p(4,3),p(4,2),p(4,1),p(3,1)];
        SP=p(3,3) -> Path = [p(3,3),p(3,4),p(4,4),p(4,3),p(4,2),p(4,1),p(3,1),p(3,2),p(2,2),p(2,3),p(2,4),p(1,4),p(1,3),p(1,2),p(1,1),p(2,1)];
        SP=p(4,3) -> Path = [p(4,3),p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(2,3),p(3,3),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1),p(1,2),p(2,2)];
        SP=p(1,4) -> Path = [p(1,4),p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(1,3),p(1,2),p(1,1),p(2,1),p(2,2),p(3,2),p(4,2),p(4,1),p(3,1)];
        SP=p(2,4) -> Path = [p(2,4),p(3,4),p(4,4),p(4,3),p(3,3),p(3,2),p(4,2),p(4,1),p(3,1),p(2,1),p(1,1),p(1,2),p(2,2),p(2,3),p(1,3),p(1,4)];
        SP=p(3,4) -> Path = [p(3,4),p(4,4),p(4,3),p(3,3),p(2,3),p(2,4),p(1,4),p(1,3),p(1,2),p(1,1),p(2,1),p(2,2),p(3,2),p(4,2),p(4,1),p(3,1)];
        SP=p(4,4) -> Path = [p(4,4),p(3,4),p(2,4),p(1,4),p(1,3),p(2,3),p(3,3),p(4,3),p(4,2),p(4,1),p(3,1),p(3,2),p(2,2),p(1,2),p(1,1),p(2,1)]
        ).

